# ТигрБанк — модуль «Учет финансов» (Plain Java, без Maven/зависимостей)

## Что это
Небольшая учебная программа, моделирующая базовый учет личных финансов:
- **BankAccount** — счет с балансом
- **Category** — категория (INCOME/EXPENSE)
- **Operation** — операция дохода/расхода по счету и категории

Реализовано:
- создание/удаление счетов, категорий, операций
- автоматическое изменение баланса при добавлении/удалении операций
- простая аналитика за период: доходы, расходы, разница; группировка по категориям
- взаимодействие модулей через простой DI-контейнер (без фреймворков)

Не реализовано (по просьбе “без доп. функциональности”):
- импорт/экспорт в файлы
- внешние библиотеки (Jackson/OpenCSV/JUnit/Maven)

---

## Структура
Все файлы лежат в `src/` **без пакетов** (чтобы проще запускалось в любой IDE).

- `Main.java` — демо-сценарий
- `Container.java` — простой DI-контейнер
- `BankAccount/Category/Operation` — доменные сущности
- `*Repository` + `InMemory*` — контракты хранения и реализации
- `*Service` — бизнес-логика (сценарии)
- `Stats` — замер времени сценариев

---

## SOLID (кратко)
- **S**: доменные сущности не знают про хранение, сервисы — про UI, репозитории — про бизнес-правила.
- **O**: можно добавить другой тип хранилища (например, файл/БД), реализовав интерфейсы репозиториев.
- **L/I**: зависимости через небольшие интерфейсы репозиториев.
- **D**: сервисы зависят от абстракций, а конкретные реализации подставляет DI-контейнер.

---

## Как запустить (без Maven)
### В IDE (IntelliJ IDEA)
1. Открой папку проекта.
2. Укажи **Project SDK = 17** (или 11/8 — код совместим).
3. Запусти `Main.java`.

### Через консоль (javac/java)
Перейди в папку `src` и выполни:
```bash
javac *.java
java Main
```

---

## Где будет больно расширять
- **Переводы между счетами**: нужна отдельная сущность Transfer (две операции как единое целое).
- **Мультивалютность**: потребуется Money (amount+currency) и конвертация.
- **Отмена/сторно**: нужна связь операции с исходной операцией и правила отката.

---

## Почему абстракции полезны
- Репозитории можно заменить (in-memory → БД), не трогая бизнес-логику сервисов.
- Аналитика не зависит от UI/хранения, её легче тестировать и переиспользовать.
